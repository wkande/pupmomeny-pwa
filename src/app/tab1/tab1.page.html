<ion-header>
  <ion-toolbar color="tertiary">
    <ion-title style="font-size:120%;">
      Categories<br><span style="font-size:medium;">Grandma's Wallet</span>
    </ion-title>
    <!--ion-button href="#" fill="clear" slot="end">
        <ion-icon name="funnel" style="font-size:200%;color:white;"></ion-icon>
      </ion-button-->
    <ion-button fill="clear" slot="end" (click)="presentFilterModal()">
      <ion-icon name="funnel" style="font-size:200%;color:white;"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>

    <!-- ERROR -->
    <!-- @TODO MAKE THIS A COMPONENT FOR ALL PAGES -->
    <ion-card [hidden]="!errorDisplay">
        <ion-card-header>
          <ion-card-title style="color:gray;">{{errorDisplay}}</ion-card-title>
        </ion-card-header>
        <ion-item lines="none" href="#" style="color:gray;border:solid 1px gray;padding:5px 5px 5px 5px;border-radius: 15px;">
          <ion-icon style="font-size:350%;color:maroon" name="flag" slot="start"></ion-icon>
          There was an issue getting data from the servers. Many things could cause this including an internet disconnect. 
          Try again but if it persists email us at supportme@pupmoney.com.
        </ion-item>

      </ion-card>

    <!-- LOADING -->
    <!-- @TODO MAKE THIS A COMPONENT FOR ALL PAGES -->
    <ion-card [hidden]="!loading" style="margin-top:100px;">
        <ion-card-header style="text-align:center;">
          <ion-card-subtitle>Loading please wait...</ion-card-subtitle>
          <ion-card-title><ion-spinner name="dots" style="font-size:300%;"></ion-spinner></ion-card-title>
        </ion-card-header>
      </ion-card>


  <!-- EXPENSES -->
  <ion-list [hidden]="loading || errorDisplay">
      <!----ion-item style="color:gray;border-bottom:1px solid black;">

        <ion-icon slot="start" name="funnel" style="font-size:200%;"></ion-icon>
        <ion-button slot="start" color="tertiary" fill="clear" size="default" (click)="presentDttmActionSheet()" style="font-size:120%;">
          {{displayDttm}}
        </ion-button>
        <div slot="end" style="color:black;font-weight:bold;">25,000.09</div>
      </ion-item-->
    
      <!-- LIST SUMMARY -->
      <ion-item-divider style="border-bottom:1px solid lightgrey;">
          <ion-button slot="start" fill="clear" (click)="presentFilterModal()" 
              style="margin-left:-18px;font-size:120%;">
            {{tag}}
          </ion-button>
          <ion-label slot="end" style="font-size:120%;color:black;margin-right:24px;">{{total}}</ion-label>
      </ion-item-divider>

      <ion-item-sliding *ngFor="let item of expenses; index as i;">
        <ion-item href="#" detail>
          <!--ion-icon slot="start" class="icon" name="{{item.icon}}"></ion-icon-->
          <ion-label class="name">{{item.name}}<span class="cnt"> ({{item.sum.cnt}})</span></ion-label>
          
          <!--  https://angular.io/api/common/CurrencyPipe -->
          <!-- https://stackoverflow.com/questions/38477970/what-are-the-parameters-for-the-number-pipe-angular-2 -->
          <ion-label class="amt">{{item.sum.amt | number : '1.2-2'}}</ion-label>
        </ion-item>
        <ion-item-options side="start">
          <ion-item-option onClick="unread(item)" style="width:75px;">Edit</ion-item-option>
          <ion-item-option onClick="unread(item)" style="width:75px;" color="danger">Delete</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>

      <div style="text-align:center;margin-top:10px;">
          <ion-button size="medium" fill="outline">
              <ion-icon slot="start" name="add" style="font-size:200%;"></ion-icon>
              Add a Category
          </ion-button>

      </div>
      

  

  </ion-list>


</ion-content>
